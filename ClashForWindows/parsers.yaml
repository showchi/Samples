parsers: # array
  # - reg: ^.*$ 匹配所有订阅，或 - url: https://example.com/profile.yaml 指定订阅
  - reg: ^.*$
    yaml:
      # 引入第三方规则集
      mix-rule-providers:
        Microsoft:
          type: http
          behavior: "classical"
          # url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Microsoft.yaml"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Microsoft/Microsoft.yaml"
          path: ./ruleset/Microsoft.yaml
          interval: 86400
        ChinaMedia:
          type: http
          behavior: "classical"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ChinaMedia.yaml"
          path: ./ruleset/ChinaMedia.yaml
          interval: 86400
        LocalAreaNetwork:
          type: http
          behavior: "classical"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/LocalAreaNetwork.yaml"
          path: ./ruleset/LocalAreaNetwork.yaml
          interval: 86400
        ProxyGFWlist:
          type: http
          behavior: "classical"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ProxyGFWlist.yaml"
          path: ./ruleset/ProxyGFWlist.yaml
          interval: 86400
        ProxyMedia:
          type: http
          behavior: "classical"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/ProxyMedia.yaml"
          path: ./ruleset/ProxyMedia.yaml
          interval: 86400
        Apple:
          type: http
          behavior: "classical"
          # url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Apple.yaml"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Apple/Apple_Classical.yaml"
          path: ./ruleset/Apple.yaml
          interval: 86400
        Google:
          type: http
          behavior: "classical"
          # url: "https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/Ruleset/Google.yaml"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Google/Google.yaml"
          path: ./ruleset/Google.yaml
          interval: 86400          
        ChatGPT:
          type: http
          behavior: "classical"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/showchi/Samples/main/ClashForWindows/ChatGPT.yaml"
          path: ./ruleset/ChatGPT.yaml
          interval: 86400
        BanEasyListChina:
          type: http
          behavior: "classical"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/ACL4SSR/ACL4SSR/master/Clash/Providers/BanEasyListChina.yaml"
          path: ./ruleset/BanEasyListChina.yaml
          interval: 86400
        Bing:
          type: http
          behavior: "classical"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Bing/Bing.yaml"
          path: ./ruleset/Bing.yaml
          interval: 86400
        China:
          type: http
          behavior: "classical"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/China/China_Classical.yaml"
          path: ./ruleset/China.yaml
          interval: 86400
        Spotify:
          type: http
          behavior: "classical"
          url: "https://ghproxy.com/https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Clash/Spotify/Spotify.yaml"
          path: ./ruleset/Spotify.yaml
          interval: 86400
      # 规则
      prepend-rules:
          - RULE-SET,BanEasyListChina,REJECT
          - RULE-SET,ChatGPT,ChatGPT
          - RULE-SET,Google,Google          
          - RULE-SET,Bing,Bing          
          - RULE-SET,Microsoft,Microsoft
          - RULE-SET,Apple,Apple
          - RULE-SET,Spotify,Spotify
          - RULE-SET,ChinaMedia,DIRECT
          - RULE-SET,China,China
          - RULE-SET,LocalAreaNetwork,DIRECT
          - RULE-SET,ProxyGFWlist,Match
          - RULE-SET,ProxyMedia,Match
      # 订阅更新时，手动添加proxy-groups
      prepend-proxy-groups:
        - name: Bing
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          tolerance: 100
          proxies:
            - DIRECT
            - 🇭🇰
            - 🇺🇸
            - 🇯🇵
            - 🇸🇬
            - TW
        - name: Microsoft
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
            - 🇭🇰
            - 🇺🇸
            - 🇯🇵
            - 🇸🇬
            - TW
        - name: Apple
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
            - 🇭🇰
            - 🇺🇸
            - 🇯🇵
            - 🇸🇬
            - TW
        - name: Spotify
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
            - 🇭🇰
            - 🇺🇸
            - 🇯🇵
            - 🇸🇬
            - TW
        - name: China
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
            - 🇭🇰
            - 🇺🇸
            - 🇯🇵
            - 🇸🇬
            - TW
        - name: ChatGPT
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
            - 🇭🇰
            - 🇺🇸
            - 🇯🇵
            - 🇸🇬
            - TW
        - name: Google
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
            - 🇭🇰
            - 🇺🇸
            - 🇯🇵
            - 🇸🇬
            - TW
        - name: Match
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
            - 🇭🇰
            - 🇺🇸
            - 🇯🇵
            - 🇸🇬
            - TW
        - name: 🇺🇸
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
        - name: 🇭🇰
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
        - name: 🇯🇵
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
        - name: TW
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
        - name: 🇸🇬
          type: select
          url: "http://www.gstatic.cn/generate_204"
          interval: 600
          t0lerance: 100
          proxies:
            - DIRECT
      commands:
        - proxy-groups.🇺🇸.proxies=[]proxyNames|US|美国|🇺🇸
        - proxy-groups.🇭🇰.proxies=[]proxyNames|HK|香港|🇭🇰
        - proxy-groups.🇯🇵.proxies=[]proxyNames|JP|日本|🇯🇵
        - proxy-groups.TW.proxies=[]proxyNames|TW|Taiwan|台湾
        - proxy-groups.🇸🇬.proxies=[]proxyNames|SG|新加坡|🇸🇬